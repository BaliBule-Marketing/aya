{% schema %}
{
  "name": "Split Background Section",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_left",
      "label": "Left Background Image"
    },
    {
      "type": "image_picker",
      "id": "background_right",
      "label": "Right Background Image"
    },
    {
      "type": "product",
      "id": "product",
      "label": "Product"
    },
    {
      "type": "image_picker",
      "id": "content_image",
      "label": "Right Content Image"
    }
  ],
  "presets": [
    {
      "name": "Split Background Section"
    }
  ]
}
{% endschema %}

<div class="split-section">
  <div class="split-section__backgrounds">
    <div class="split-section__bg-left">
      {% if section.settings.background_left %}
        {{ section.settings.background_left | image_url: width: 1000 | image_tag }}
      {% endif %}
    </div>
    <div class="split-section__bg-right">
      {% if section.settings.background_right %}
        {{ section.settings.background_right | image_url: width: 1000 | image_tag }}
      {% endif %}
    </div>
  </div>

  <div class="split-section__content">
    <div class="split-section__left">
      {% if section.settings.product %}
        {% assign product = all_products[section.settings.product] %}
        {% render 'product-grid-item', product: product, index: 1 %}
      {% endif %}
    </div>

    <div class="split-section__right">
      {% if section.settings.content_image %}
        {{ section.settings.content_image | image_url: width: 800 | image_tag }}
      {% endif %}
    </div>
  </div>
</div>